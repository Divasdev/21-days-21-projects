<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Age Calculator</title>
   <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
   <style>
      * {
         margin: 0;
         padding: 0;
         box-sizing: border-box;
         font-family: 'Poppins', sans-serif;
      }

      body {
         background: linear-gradient(135deg, #4286f4, #373B44);
         color: #fff;
         display: flex;
         justify-content: center;
         align-items: center;
         min-height: 100vh;
         padding: 10px;
      }

      .container {
         width: 100%;
         max-width: 600px;
         background: rgba(255, 255, 255, 0.9);
         color: #333;
         border-radius: 10px;
         padding: 40px;
         box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .calculator {
         width: 100%;
      }

      h1 {
         font-size: 40px;
         margin-bottom: 20px;
         color: #001e4d;
      }

      h1 span {
         color: #ffff76;
      }

      .input-box {
         margin: 40px 0;
         padding: 35px;
         border-radius: 10px;
         background: rgba(255, 255, 255, 0.3);
         display: flex;
         align-items: center;
      }

      .input-box input {
         flex: 1;
         margin-right: 20px;
         padding: 14px 20px;
         border: 0;
         outline: 0;
         font-size: 18px;
         border-radius: 5px;
         position: relative;
         box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      /* Custom calendar icon styling for date input */
      input[type="date"]::-webkit-calendar-picker-indicator {
         cursor: pointer;
      }

      .input-box button {
         background: #ffff76;
         border: 0;
         outline: 0;
         padding: 15px 30px;
         border-radius: 5px;
         font-weight: 500;
         color: #333;
         cursor: pointer;
         font-size: 16px;
         transition: background 0.3s;
      }

      .input-box button:hover {
         background: #e2e250;
      }

      #result {
         font-size: 20px;
      }

      #result span {
         color: #ffff76;
         font-size: 28px;
         font-weight: 700;
      }
   </style>
</head>

<body>
   <div class="container">
      <div class="calculator">
         <h1>JavaScript <br><span>Age Calculator</span></h1>
         <div class="input-box">
            <input type="date" id="date">
            <button onclick="calculateAge()">Calculate</button>
         </div>
         <p id="result"></p>
      </div>
   </div>

   <script>
      let userInput = document.getElementById("date");
      // Set max date to today
      userInput.max = new Date().toISOString().split("T")[0];
      let result = document.getElementById("result");

      function calculateAge() {

         const birthDate = userInput.value;
         console.log(`Birth Date= ${birthDate}`);

         const todayDate = new Date();
         console.log(todayDate);

         yearDiff = todayDate.getFullYear() - new Date(birthDate).getFullYear()
         console.log(`age Date= ${yearDiff}`);


         monthDiff = todayDate.getMonth() - new Date(birthDate).getMonth();
         console.log(`month Date= ${monthDiff}`);


         if (monthDiff < 0 || (monthDiff === 0 && todayDate.getDate() < new Date(birthDate).getDate())) {
             newYeardiff= yearDiff-1;
             monthDiff=monthDiff+12;
         
         console.log(newYeardiff);
         }
         
        let d1= new Date(birthDate).getDate(), m1= new Date(birthDate).getMonth() +1, y1=  new Date(birthDate).getFullYear();

        let d2 = todayDate.getDate(), m2 = todayDate.getMonth() + 1, y2 = todayDate.getFullYear();
        if(d2>=d1){
         days=d2-d1;

        } else{
           const daysInPrevMonth = new Date(y2, m2 - 1, 0).getDate();
           days=(daysInPrevMonth+d2) -d1;
           monthDiff--;
        }




         
         /* 
               
          7. Display the result in the 'result' paragraph.
             - Format: "You are <span>X</span> years, <span>Y</span> months and <span>Z</span> days old"
         */

         // Placeholder:
         result.innerHTML = `You are <span>${newYeardiff}</span> years, <span>${monthDiff}</span> months and <span>${todayDate}</span> days old`;
      }

      function getDaysInMonth(year, month) {
         return new Date(year, month, 0).getDate();
      }
   </script>
</body>

</html>